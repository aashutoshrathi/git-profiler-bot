language: python
python:
  - "3.6"
  - "3.6-dev"  # 3.6 development branch
node_js:
  - "5.5"
  - "4.2"
# command to install dependencies
install:
  - pip3 install -r requirements.txt
  - npm i -g npm
  - npm i -g serverless
  - npm i serverless-python-requirements
  - pip3 install pipenv
# command to run tests
script:
  # - sls deploy
  - pytest
  - serverless config credentials --provider aws --key ${aws_access_key_id} --secret ${aws_secret_access_key} --profile iam-aws
  - sls deploy
